<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2x Spin Income</title>
    <link rel="stylesheet" href="style.css">
    <!-- Monetag and Telegram SDKs will be included before the closing body tag -->
</head>
<body>

    <div id="app-container">
        <!-- Header Card -->
        <header class="header-card">
            <h1>Your Balance</h1>
            <div class="balance-display">
                <div>
                    <p class="balance-value"><span id="tk-display">0</span> TK</p>
                </div>
                <div>
                    <p class="balance-value"><span id="referral-display">0</span></p>
                    <p class="balance-label">Referrals</p>
                </div>
            </div>
        </header>

        <main class="main-content">
            <!-- Primary Actions Section -->
            <section class="ad-section">
                <h2>Primary Actions</h2>
                <div class="button-grid">
                    <div class="button-wrapper">
                        <button class="btn btn-purple" id="spin-earn-btn">Spin and Earn</button>
                    </div>
                    <div class="button-wrapper">
                         <button class="btn btn-green" id="refer-btn">Refer a Friend</button>
                    </div>
                </div>
            </section>

            <!-- Section 1: Rewarded Interstitial Ads -->
            <section class="ad-section">
                <h2>Rewarded Interstitial Ads (+5 TK)</h2>
                <p class="section-desc">Each button has a separate 10-minute cooldown.</p>
                <div class="button-grid">
                    <div class="button-wrapper">
                        <button class="btn" id="rewarded-interstitial-1">Ad 1</button>
                        <div class="timer" id="timer-ri-1"></div>
                    </div>
                    <div class="button-wrapper">
                        <button class="btn" id="rewarded-interstitial-2">Ad 2</button>
                        <div class="timer" id="timer-ri-2"></div>
                    </div>
                    <div class="button-wrapper">
                        <button class="btn" id="rewarded-interstitial-3">Ad 3</button>
                        <div class="timer" id="timer-ri-3"></div>
                    </div>
                </div>
            </section>

            <!-- Section 2: Rewarded Popup Ads -->
            <section class="ad-section">
                <h2>Rewarded Popup Ads (+5 TK)</h2>
                <p class="section-desc">These buttons share a single 10-minute cooldown.</p>
                <div class="button-grid">
                    <div class="button-wrapper">
                        <button class="btn" id="rewarded-popup-1">Popup Ad 1</button>
                    </div>
                    <div class="button-wrapper">
                        <button class="btn" id="rewarded-popup-2">Popup Ad 2</button>
                    </div>
                </div>
                <div class="timer" id="timer-rp-shared"></div>
            </section>

            <!-- Section 3: In-App Interstitial Ad -->
            <section class="ad-section">
                <h2>In-App Interstitial Ad (+10 TK)</h2>
                <p class="section-desc">No time limit for this ad.</p>
                <div class="button-grid-single">
                    <div class="button-wrapper">
                        <button class="btn" id="in-app-interstitial">Watch In-App Interstitial</button>
                    </div>
                </div>
            </section>

            <!-- Other Features Section -->
            <section class="ad-section">
                 <h2>Other Features</h2>
                 <div class="button-grid">
                    <div class="button-wrapper">
                        <button class="btn btn-red" id="withdraw-btn">Withdraw Now</button>
                    </div>
                    <div class="button-wrapper">
                        <button class="btn btn-gray" id="guide-btn">How to Income</button>
                    </div>
                 </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div id="spin-modal" class="modal-backdrop hidden">
        <div class="modal-content">
            <h2 class="modal-title">Spin the Wheel!</h2>
            <p class="modal-desc">You can spin once every 2 hours.</p>
            <div class="wheel-container-wrapper">
                <div class="wheel-pointer"></div>
                <div id="wheel" class="wheel-container"></div>
            </div>
            <p id="spin-result" class="spin-result"></p>
            <button id="spin-btn" class="btn btn-purple">Spin</button>
            <button id="close-spin-modal" class="modal-close-btn">Close</button>
        </div>
    </div>

    <div id="guide-modal" class="modal-backdrop hidden">
        <div class="modal-content">
            <h2 class="modal-title">How to Income Guide</h2>
            <div class="guide-content">
                <h3>Earning Rules (English)</h3>
                <ul>
                    <li>Watch various ads to earn 5 or 10 TK per view.</li>
                    <li>Some ads have cooldowns; please wait for the timer to finish.</li>
                    <li>Share your referral link to earn 10 TK for each new user.</li>
                    <li>Spin the wheel every 2 hours to win random TK.</li>
                    <li>Withdrawal is available after earning 50 TK and referring 5 friends.</li>
                </ul>
                <hr>
                <h3>আয়ের নিয়মাবলী (Bangla)</h3>
                 <ul>
                    <li>বিভিন্ন বিজ্ঞাপন দেখে প্রতি ভিউতে ৫ বা ১০ টাকা উপার্জন করুন।</li>
                    <li>কিছু বিজ্ঞাপনে কুলডাউন আছে; টাইমার শেষ হওয়ার জন্য অপেক্ষা করুন।</li>
                    <li>আপনার রেফারেল লিঙ্ক শেয়ার করে প্রতিটি নতুন ব্যবহারকারীর জন্য ১০ টাকা উপার্জন করুন।</li>
                    <li>প্রতি ২ ঘন্টা পর পর চাকা ঘুরিয়ে র‍্যান্ডম টাকা জিতে নিন।</li>
                    <li>৫০ টাকা উপার্জন এবং ৫ জন বন্ধুকে রেফার করার পরে টাকা তোলার সুযোগ পাবেন।</li>
                </ul>
            </div>
            <button id="close-guide-modal" class="modal-close-btn">Close</button>
        </div>
    </div>

    <div id="withdraw-modal" class="modal-backdrop hidden">
        <div class="modal-content">
            <h2 class="modal-title">Withdraw Request</h2>
            <form id="withdraw-form" class="form">
                <div class="form-group">
                    <label for="withdraw-name">Full Name</label>
                    <input type="text" id="withdraw-name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="withdraw-method">Payment Method</label>
                    <select id="withdraw-method" name="method" required>
                        <option>bKash</option>
                        <option>Nagad</option>
                        <option>Rocket</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="withdraw-number">Payment Number</label>
                    <input type="text" id="withdraw-number" name="number" required>
                </div>
                <button type="submit" id="submit-withdraw-btn" class="btn btn-red">Submit Request</button>
            </form>
            <button id="close-withdraw-modal" class="modal-close-btn">Cancel</button>
        </div>
    </div>

    <script src='//libtl.com/sdk.js' data-zone='9671872' data-sdk='show_9671872'></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="app.js" type="module"></script>
</body>
</html>
